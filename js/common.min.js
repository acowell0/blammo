var populateResults=function(c,e,d){$.getJSON(c,function(b){if(0==$(e).find("ul").length){var c=$('<ul id="'+d+'" class="media-list"></ul>');$(e).append(c)}for(i=0;i<b.items.length;i++){var a;switch(d){case "s":a='<li class="media '+d+'" data-video="'+b.items[i].id.videoId+'">';break;case "t":a='<li class="media '+d+'" data-video="'+b.items[i].id+'">';break;case "f":a='<li class="media '+d+'" data-video="'+b.items[i].snippet.resourceId.videoId+'">',init.faves.push({vidId:b.items[i].snippet.resourceId.videoId,
playlistitemid:b.items[i].id})}a+='<a class="media-left" href="#">';a+='<img class="media-object" src="'+b.items[i].snippet.thumbnails["default"].url+'" >';a+="</a>";a+='<div class="media-body">';a+='<h4 class="media-heading">'+b.items[i].snippet.title+"</h4>";a+="<p>"+b.items[i].snippet.description+"</p>";a+="</div>";a+="</li>";c=$(a).click(function(){var a='<label><input type="checkbox" checked> Fave</label>',b="https://www.googleapis.com/youtube/v3/videos?part=snippet%2C+statistics&id="+$(this).attr("data-video")+
"&maxResults=1&fields=items(snippet%2FchannelTitle%2Cstatistics)&key=AIzaSyAgNqfgP847pRTGlFzhirgATebC768fxbY",c="https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId="+$(this).attr("data-video")+"&fields=items(snippet%2FtopLevelComment%2Fsnippet%2FauthorDisplayName%2Csnippet%2FtopLevelComment%2Fsnippet%2FtextDisplay)&key=AIzaSyAgNqfgP847pRTGlFzhirgATebC768fxbY",d='<iframe data-video="'+$(this).attr("data-video")+'" width="640" height="360" src="http://www.youtube.com/embed/'+
$(this).attr("data-video")+'" frameborder="0" allowfullscreen></iframe>';removeVideoFrame();$.getJSON(b,function(a){$("#videoModal").find("#channel").text("CHANNEL: "+a.items[0].snippet.channelTitle);$("#videoModal").find("#views").text("VIEWS: "+Number(a.items[0].statistics.viewCount).toLocaleString("en"));$("#videoModal").find("#likes").text("LIKES: "+Number(a.items[0].statistics.likeCount).toLocaleString("en"));$("#videoModal").find("#dislikes").text("DISLIKES: "+Number(a.items[0].statistics.dislikeCount).toLocaleString("en"))});
$.getJSON(c,function(a){for(j=0;j<a.items.length;j++){var b="<li><b>"+a.items[j].snippet.topLevelComment.snippet.authorDisplayName+' says: </b>"'+a.items[j].snippet.topLevelComment.snippet.textDisplay+'" </li>';$("#videoModal").find("#comments").append(b)}});$("#videoModal").find("#video").append(d);$(".modal-title").text($(this).find(".media-heading").text());init.authenticated&&(-1===isFave($(this).attr("data-video"))&&(a=a.replace("checked","")),$("#videoModal").find("#fave").append(a));$("#videoModal").modal("show")});
$("#"+d).append(c)}})},clearResultsList=function(c,e){$(c).find($("."+e).remove())},removeVideoFrame=function(){$("#videoModal").find("#fave").children().remove();$("#videoModal").find("#video").children().remove();$(".modal-title").text("");clearModalComments()},clearModalComments=function(){$("#videoModal").find("#comments").children().remove()};
$("#modalClose").click(function(){init.authenticated&&($("#videoModal").find("#fave").find("input[type='checkbox']").is(":checked")?addFave($("#videoModal").find("iframe").attr("data-video"),init.favePlaylistId):removeFave($("#videoModal").find("iframe").attr("data-video")));removeVideoFrame()});
$("#modalX").click(function(){init.authenticated&&($("#videoModal").find("#fave").find("input[type='checkbox']").is(":checked")?addFave($("#videoModal").find("iframe").attr("data-video"),init.favePlaylistId):removeFave($("#videoModal").find("iframe").attr("data-video")));removeVideoFrame()});$("#searchTab").click(function(){$("#search-controls").show()});$("#trendingTab").click(function(){$("#search-controls").hide()});$("#myTab").click(function(){$("#search-controls").hide()});
